<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>苹果banner</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="containe">
        <a class="arrow-left" href="#"><span></span></a>
        <a class="arrow-right" href="#"><span></span></a>
        <div class="wrapper">
            <div class="slide slide1">
                <div class="title">
                    <h2>iPad Pro</h2>
                    <p>不只能做到，</p>
                    <p>还能做到更好。</p>
                </div>
            </div>
            <div class="slide slide2">
                <div class="title">
                    <h2>iOS 11</h2>
                    <p>为iPhone带来巨大进步，</p>
                    <p>让iPad实现里程碑式飞跃。</p>
                </div>
            </div>
            <div class="slide slide3">
                <div class="title">
                    <h2>Mac</h2>
                    <p>全线提速。</p>
                </div>
            </div>
            <div class="slide slide4">
                <div class="title">
                    <h2>macOS High Sierra</h2>
                    <p>你的Mac，登上更高峰。</p>
                </div>
            </div>
            <div class="slide slide5">
                <div class="title">
                    <h2>watchOS</h2>
                    <p>更直观，更智能，更显你的风格。</p>
                </div>
            </div>
        </div>
        <ul class="pagination">
            <li><span><i></i></span></li>
            <li><span><i></i></span></li>
            <li><span><i></i></span></li>
            <li><span><i></i></span></li>
            <li><span><i></i></span></li>
        </ul>
    </div>
    <script src="js/jquery-1.10.1.min.js"></script>
    <script>
        var $container = $('.containe')
        var $slides = $('.slide')
        var $wrapper = $('.wrapper')
        var $paginations = $('.pagination li')
        var count = $slides.length
        var width = $container.width()
        //var $last = $slides.last().clone().prependTo($wrapper)
        var $first = $slides.first().clone().appendTo($wrapper)
        $paginations.eq(0).addClass('active').siblings().removeClass('arrow active')
        var currentIndex = 0
        function play(index) {
            if (index < 0) {
                index = count - 1
                let width = $container.width()
                let number = - width * count
                $wrapper.css({
                    left: `${number}px`
                })
                currentIndex = index
            }
            if (index > count-1) {
                index = 1
                $paginations.eq(0).addClass('active').siblings().removeClass('arrow active')
                $wrapper.css({
                    left: `0`
                })
                currentIndex = index
            }
            let width = $container.width()
            let number = - width * index
            $wrapper.css({
                left: `${number}px`
            })
            $paginations.eq(index).addClass('active').siblings().removeClass('arrow active')
            currentIndex = index
        }
        function autoPlay() {
            timeId = setInterval(function () {
                play(currentIndex + 1)
            }, 4000)
        }
      //autoPlay()
        $('.arrow-left').click(function () {
            //clearInterval(timeId)
            currentIndex--
            play(currentIndex)
            $paginations.removeClass('arrow active').eq(currentIndex).addClass('arrow')
            console.log(currentIndex)
        })
        $('.arrow-right').click(function () {
            //clearInterval(timeId)
            currentIndex++
            play(currentIndex)
            $paginations.removeClass('arrow active').eq(currentIndex).addClass('arrow')
            console.log(currentIndex)
        })
        $wrapper.on('mouseenter', function () {
            //clearInterval(timeId)
        })
        $wrapper.on('mouseleave', function () {
            autoPlay()
        })
        $paginations.click(function () {
            //clearInterval(timeId)
            let index = $(this).index()
            console.log(index)
            $paginations.removeClass('arrow active').eq(index).addClass('arrow')
            play(index)
        })
    </script>
</body>

</html>